;/*FB_PKG_DELIM*/

__d("PolarisBaseOptionsMenuFallback.react",["IGDSPopoverLoadingState.react","IGDSSpinner.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={popover:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",marginBottom:"xyorhqc",marginTop:"x1anpbxc",$$css:!0},root:{maxHeight:"xqrff1o",minHeight:"x19i0xim",width:"x15chvws",$$css:!0}};function a(){var a=i(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b="x1xmf6yo x1emribx x1e56ztr x1i64zmx",a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",{className:b,children:j.jsx(c("IGDSSpinner.react"),{})}),a[1]=b):b=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("IGDSPopoverLoadingState.react"),{popoverContent:b,popoverXStyle:k.popover,xstyle:k.root}),a[2]=b):b=a[2];return b}g["default"]=a}),98);
__d("PolarisCoauthorUtils.react",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("156")===!0}g.isCoauthorAcceptanceEnabled=a}),98);
__d("PolarisCommentLikeButton_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisCommentLikeButton_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_liked_comment",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisCommentLike_comment"},{args:null,kind:"FragmentSpread",name:"usePolarisCommentUnlike_comment"}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("polarisGetXDTCommentDict",["igMapTypenameToRelayID"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=c("igMapTypenameToRelayID")("XDTCommentDict",null,b);return a.get(b)}g["default"]=a}),98);
__d("usePolarisCommentLikeMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6195371347187205"}),null);
__d("usePolarisCommentLikeMutation.graphql",["usePolarisCommentLikeMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"comment_id"},{defaultValue:null,kind:"LocalArgument",name:"data"}],c=[{alias:null,args:[{kind:"Variable",name:"comment_id",variableName:"comment_id"},{kind:"Variable",name:"data",variableName:"data"}],concreteType:"XDTEmptyRecord",kind:"LinkedField",name:"xdt_api__v1__media__comment_id__comment_like",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisCommentLikeMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisCommentLikeMutation",selections:c},params:{id:b("usePolarisCommentLikeMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisCommentLikeMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisCommentLike_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisCommentLike_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisCommentLike",["CometRelay","FBLogger","QPLUserFlow","polarisGetXDTCommentDict","qpl","react","usePolarisAnalyticsContext","usePolarisCommentLikeMutation.graphql","usePolarisCommentLike_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback,l=h!==void 0?h:h=b("usePolarisCommentLikeMutation.graphql");function a(a){var e=c("usePolarisAnalyticsContext")(),f=d("CometRelay").useFragment(i!==void 0?i:i=b("usePolarisCommentLike_comment.graphql"),a);a=d("CometRelay").useMutation(l);var g=a[0];return k(function(){c("QPLUserFlow").start(c("qpl")._(379199145,"1297"),{annotations:{string:{source:e}}});if(f.pk==null)return;var a=function(a){if(f.pk==null)return;a=c("polarisGetXDTCommentDict")(a,f.pk);a==null?void 0:a.setValue(!0,"has_liked_comment");var b=a==null?void 0:a.getValue("comment_like_count");b!=null&&(a==null?void 0:a.setValue(Number(b)+1,"comment_like_count"))};g({onCompleted:function(){c("QPLUserFlow").endSuccess(c("qpl")._(379199145,"1297"))},onError:function(a){c("FBLogger")("ig_web").mustfix("There was an error with usePolarisCommentLike",a.toString()),c("QPLUserFlow").endFailure(c("qpl")._(379199145,"1297"),"mutation_errored")},optimisticUpdater:a,updater:a,variables:{comment_id:f.pk,data:{}}})},[f,g])}g["default"]=a}),98);
__d("usePolarisCommentUnlikeMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6027041744046634"}),null);
__d("usePolarisCommentUnlikeMutation.graphql",["usePolarisCommentUnlikeMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"comment_id"}],c=[{alias:null,args:[{kind:"Variable",name:"comment_id",variableName:"comment_id"}],concreteType:"XDTEmptyRecord",kind:"LinkedField",name:"xdt_api__v1__media__comment_id__comment_unlike",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisCommentUnlikeMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisCommentUnlikeMutation",selections:c},params:{id:b("usePolarisCommentUnlikeMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisCommentUnlikeMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisCommentUnlike_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisCommentUnlike_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisCommentUnlike",["CometRelay","FBLogger","QPLUserFlow","igMapTypenameToRelayID","qpl","react","usePolarisAnalyticsContext","usePolarisCommentUnlikeMutation.graphql","usePolarisCommentUnlike_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback,l=h!==void 0?h:h=b("usePolarisCommentUnlikeMutation.graphql");function a(a){var e=c("usePolarisAnalyticsContext")(),f=d("CometRelay").useFragment(i!==void 0?i:i=b("usePolarisCommentUnlike_comment.graphql"),a);a=d("CometRelay").useMutation(l);var g=a[0];return k(function(){c("QPLUserFlow").start(c("qpl")._(379197191,"1298"),{annotations:{string:{source:e}}});if(f.pk==null)return;var a=function(a){var b=c("igMapTypenameToRelayID")("XDTCommentDict",null,f.pk);a=a.get(b);a==null?void 0:a.setValue(!1,"has_liked_comment");b=a==null?void 0:a.getValue("comment_like_count");b!=null&&(a==null?void 0:a.setValue(Number(b)-1,"comment_like_count"))};g({onCompleted:function(){c("QPLUserFlow").endSuccess(c("qpl")._(379197191,"1298"))},onError:function(a){c("FBLogger")("ig_web").mustfix("There was an error with usePolarisCommentUnlike",a.toString()),c("QPLUserFlow").endFailure(c("qpl")._(379197191,"1298"),"mutation_errored")},optimisticUpdater:a,updater:a,variables:{comment_id:f.pk}})},[f,g])}g["default"]=a}),98);
__d("PolarisCommentLikeButton.next.react",["BaseButton.react","CometRelay","IGDSBox.react","IGDSHeartFilledIcon.react","IGDSHeartPanoOutlineIcon.react","IGDSIconButton.react","IGDSText.react","PolarisBigNumber.react","PolarisCommentLikeButton_comment.graphql","PolarisInteractionsStrings","react","stylex","usePolarisCommentLike","usePolarisCommentUnlike"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j;function m(a){var b=k(26),e=a.color,f=a.handleClick,g=a.isLiked,h=a.likeChangeCount,i=a.likeCount,j=a.onLikeCountClick,m=a.padding,n=a.shadow;a=a.size;e=e===void 0?"ig-primary-icon":e;n=n===void 0?!1:n;var o;b[0]!==j?(o=function(){j!=null&&j()},b[0]=j,b[1]=o):o=b[1];o=o;var p;b[2]!==g||b[3]!==n||b[4]!==a?(p=g?null:l.jsx(c("IGDSHeartPanoOutlineIcon.react"),{alt:d("PolarisInteractionsStrings").LIKE_TEXT,color:"ig-secondary-icon",shadow:n,size:a}),b[2]=g,b[3]=n,b[4]=a,b[5]=p):p=b[5];var q;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(q="x1ykxiw6 x4hg4is x3oybdh",b[6]=q):q=b[6];var r;b[7]!==g||b[8]!==n||b[9]!==a||b[10]!==e?(r=g?l.jsx(c("IGDSHeartFilledIcon.react"),{alt:d("PolarisInteractionsStrings").UNLIKE_TEXT,color:"ig-badge",shadow:n,size:a}):l.jsx(c("IGDSHeartPanoOutlineIcon.react"),{alt:d("PolarisInteractionsStrings").LIKE_TEXT,color:e,shadow:n,size:a}),b[7]=g,b[8]=n,b[9]=a,b[10]=e,b[11]=r):r=b[11];b[12]!==h||b[13]!==r?(g=l.jsx("span",{className:q,children:r},h),b[12]=h,b[13]=r,b[14]=g):g=b[14];b[15]!==p||b[16]!==f||b[17]!==m||b[18]!==g?(n=l.jsx(c("IGDSIconButton.react"),{hover:p,onClick:f,padding:m,children:g}),b[15]=p,b[16]=f,b[17]=m,b[18]=g,b[19]=n):n=b[19];b[20]!==i||b[21]!==o?(a=i!=null&&i>0?l.jsx(c("IGDSBox.react"),{alignItems:"center",marginTop:2,children:l.jsx(c("BaseButton.react"),{onClick:o,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",textAlign:"center",weight:"semibold",children:l.jsx(c("PolarisBigNumber.react"),{shortenNumber:!0,value:i})})})}):null,b[20]=i,b[21]=o,b[22]=a):a=b[22];b[23]!==n||b[24]!==a?(e=l.jsxs(c("IGDSBox.react"),{children:[n,a]}),b[23]=n,b[24]=a,b[25]=e):e=b[25];return e}function a(a){var e=k(19),f=a.color,g=a.isLarge,j=a.likeCount,n=a.onLikeCountClick,o=a.padding,p=a.queryReference,q=a.shadow,r=a.size;a=a.xstyle;p=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisCommentLikeButton_comment.graphql"),p);var s=c("usePolarisCommentLike")(p),t=c("usePolarisCommentUnlike")(p),u=p.has_liked_comment||!1;e[0]!==u||e[1]!==t||e[2]!==s?(p=function(a){a.preventDefault(),u===!0?t():s()},e[0]=u,e[1]=t,e[2]=s,e[3]=p):p=e[3];p=p;var v;e[4]!==a?(v=(i||(i=c("stylex")))(a),e[4]=a,e[5]=v):v=e[5];if(e[6]!==g||e[7]!==o||e[8]!==r||e[9]!==f||e[10]!==p||e[11]!==u||e[12]!==j||e[13]!==n||e[14]!==q){a=g?l.jsx(m,{color:f,handleClick:p,isLiked:u,likeChangeCount:0,likeCount:j,onLikeCountClick:n,padding:(a=o)!=null?a:8,shadow:q,size:(a=r)!=null?a:24}):l.jsx("div",{className:"xjbqb8w x1ejq31n xd10rxx x1sy0etr x17r0tee x1ypdohk x15bjb6t x1a2a7pz xexx8yu x4uap5 x18d9i69 xkhd6sd",children:l.jsx(m,{color:f,handleClick:p,isLiked:u,likeChangeCount:0,likeCount:j,onLikeCountClick:n,padding:(a=o)!=null?a:0,shadow:q,size:(a=r)!=null?a:12})});e[6]=g;e[7]=o;e[8]=r;e[9]=f;e[10]=p;e[11]=u;e[12]=j;e[13]=n;e[14]=q;e[15]=a}else a=e[15];e[16]!==v||e[17]!==a?(g=l.jsx("span",{className:v,children:a}),e[16]=v,e[17]=a,e[18]=g):g=e[18];return g}g["default"]=a}),98);
__d("PolarisMediaCoauthorReviewOverlayFooterCTA_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaCoauthorReviewOverlayFooterCTA_media",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"pk"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},action:"THROW",path:"code"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"owner.pk"},{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW",path:"owner.username"}],storageKey:null},action:"THROW",path:"owner"},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"invited_coauthor_producers",plural:!0,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"invited_coauthor_producers.pk"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisMediaCoauthorReviewOverlayFooterCTA.react",["fbt","CometRelay","IGDSBox.react","IGDSButton.react","IGDSText.react","JSResourceForInteraction","PolarisCoauthorUtils.react","PolarisConfig","PolarisMediaCoauthorReviewOverlayFooterCTA_media.graphql","PolarisMonitorErrors","PolarisUserHoverCard.react","PolarisUserLink.react","err","polarisGetPostFromGraphMediaInterface","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.unstable_useMemoCache,m=c("JSResourceForInteraction")("PolarisCoauthorReviewDialog.react").__setRef("PolarisMediaCoauthorReviewOverlayFooterCTA.react");function a(a){var e=l(22);a=a.fragmentKey;a=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisMediaCoauthorReviewOverlayFooterCTA_media.graphql"),a);var f=a.code,g=a.invited_coauthor_producers,j=a.owner,n=a.pk,o=a.product_type,p=j.username,q=n,r=f;a=c("useIGDSLazyDialog")(m);var s=a[0];e[0]!==s||e[1]!==q||e[2]!==r||e[3]!==o||e[4]!==p?(n=function(){s({mediaId:q,mediaShortcode:r,productType:o,username:p})},e[0]=s,e[1]=q,e[2]=r,e[3]=o,e[4]=p,e[5]=n):n=e[5];f=n;var t=d("PolarisConfig").getViewerIdOrZero();a=g!=null&&g.some(function(a){return a.pk===t});if(!a)return null;if(j==null||p==null){n=c("err")("PolarisMediaCoauthorReviewOverlayFooterCTA requires a post owner");d("PolarisMonitorErrors").logError(n);return null}g=!j.is_unpublished;e[6]!==p?(a=k.jsx(c("PolarisUserLink.react"),{username:p}),e[6]=p,e[7]=a):a=e[7];e[8]!==g||e[9]!==j.pk||e[10]!==p||e[11]!==a?(n=k.jsx(c("PolarisUserHoverCard.react"),{display:"inline-block",isUserAvailable:g,userId:j.pk,username:p,children:a}),e[8]=g,e[9]=j.pk,e[10]=p,e[11]=a,e[12]=n):n=e[12];g=n;e[13]!==g?(j=h._("__JHASH__zobFUCqiyEo__JHASH__",[h._param("media_owner_username",g)]),e[13]=g,e[14]=j):j=e[14];a=j;e[15]!==g?(n=h._("__JHASH__8prry3BHUcp__JHASH__",[h._param("media_owner_username",g)]),e[15]=g,e[16]=n):n=e[16];j=n;e[17]!==o||e[18]!==j||e[19]!==a||e[20]!==f?(g=d("PolarisCoauthorUtils.react").isCoauthorAcceptanceEnabled()?k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",paddingX:3,paddingY:2,position:"relative",children:[k.jsx(c("IGDSBox.react"),{flex:"shrink",marginEnd:5,marginStart:1,maxWidth:350,overflow:"auto",wrap:!0,children:k.jsx(c("IGDSText.react").Body,{color:"primaryText",maxLines:3,zeroMargin:!0,children:o===d("polarisGetPostFromGraphMediaInterface").PRODUCT_TYPE_CLIPS?j:a})}),k.jsx(c("IGDSBox.react"),{flex:"shrink",marginEnd:1,children:k.jsx(c("IGDSButton.react"),{display:"inline",label:h._("__JHASH__NhLz7AVpjs2__JHASH__"),onClick:f,variant:"primary_black"})})]}):null,e[17]=o,e[18]=j,e[19]=a,e[20]=f,e[21]=g):g=e[21];return g}g["default"]=a}),226);
__d("PolarisMediaOverlayFooterCTAFragment_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaOverlayFooterCTAFragment_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisMediaCoauthorReviewOverlayFooterCTA_media"},{args:null,kind:"FragmentSpread",name:"usePolarisShowFooterCTA_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisShowFooterCTA_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},b={alias:null,args:null,concreteType:"XDTIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},c=[{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null}];c=[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},{alias:null,args:null,concreteType:"XDTTextColorSpec",kind:"LinkedField",name:"secondary_text_color",plural:!1,selections:c,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"XDTTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:c,storageKey:null}];c={alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"polarisReadInlineMediaOverlayInfo_inline_media_overlay",selections:[{alias:null,args:null,concreteType:"XDTButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"XDTBloksRenderResponse",kind:"LinkedField",name:"bloks_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:c,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"misinformation_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_applied_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sub_category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisShowFooterCTA_media",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"pk"},{alias:null,args:null,kind:"ScalarField",name:"carousel_media_count",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"carousel_media.pk"},c],storageKey:null},c],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("usePolarisShowFooterCTA.next.react",["CometRelay","polarisMediaOverlayInfoUtils","polarisReadInlineMediaOverlayInfo","react","usePolarisShowFooterCTA_media.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useMemo;var j=e.unstable_useMemoCache;function a(a,e,f,g){var i=j(13);a=d("CometRelay").useFragment(h!==void 0?h:h=b("usePolarisShowFooterCTA_media.graphql"),a);bb0:{if(g===!0){g=null;break bb0}var k=a.carousel_media_count!=null&&a.carousel_media_count>0,l=null,m=null;if(k===!0){var n;n=(n=a.carousel_media)==null?void 0:n[e];if(n!=null){e=f[n.pk]===!0;if(i[0]!==n||i[1]!==e||i[2]!==m){var o=n.media_overlay_info!=null?c("polarisReadInlineMediaOverlayInfo")(n.media_overlay_info):null;if(o!=null){var p=d("polarisMediaOverlayInfoUtils").isMediaOverlayLayoutSupported(o==null?void 0:o.overlay_layout);p&&(m=d("polarisMediaOverlayInfoUtils").getMediaOverlayBottomBannerInfo(o,e));m!=null&&(l=n.pk)}i[0]=n;i[1]=e;i[2]=m;i[3]=m;i[4]=l}else m=i[3],l=i[4]}}if(l==null){p=f[a.pk]===!0;if(i[5]!==a||i[6]!==p){o=a.media_overlay_info!=null?c("polarisReadInlineMediaOverlayInfo")(a.media_overlay_info):null;o!=null&&(m=d("polarisMediaOverlayInfoUtils").getMediaOverlayBottomBannerInfo(o,p),m!=null&&(l=a.pk));i[5]=a;i[6]=p;i[7]=m;i[8]=l}else m=i[7],l=i[8]}if(l==null||m==null){g=null;break bb0}i[9]!==m||i[10]!==k||i[11]!==l?(n={bottomBannerInfo:m,isParentPostSidecar:k,itemWithBannerID:l},i[9]=m,i[10]=k,i[11]=l,i[12]=n):n=i[12];g=n}return g}g["default"]=a}),98);
__d("PolarisMediaOverlayFooterCTA.react",["CometRelay","PolarisMediaCoauthorReviewOverlayFooterCTA.react","PolarisMediaOverlayFooterCTAFragment_media.graphql","PolarisPostOverlayInfoFooterCTA.react","emptyFunction","react","stylex","usePolarisShowFooterCTA.next.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j,m={},n={};function a(a){var e=k(7),f=a.analyticsContext,g=a.currentSidecarIndex,j=a.queryReference;a=a.xstyle;j=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisMediaOverlayFooterCTAFragment_media.graphql"),j);g=c("usePolarisShowFooterCTA.next.react")(j,g,m);var o;e[0]!==j?(o=l.jsx(c("PolarisMediaCoauthorReviewOverlayFooterCTA.react"),{fragmentKey:j}),e[0]=j,e[1]=o):o=e[1];j=o;e[2]!==g||e[3]!==a||e[4]!==f||e[5]!==j?(o=g!=null?l.jsxs("div",{className:(i||(i=c("stylex")))(a),children:[l.jsx(d("PolarisPostOverlayInfoFooterCTA.react").PolarisPostOverlayInfoFooterCTARenderer,babelHelpers["extends"]({analyticsContext:f,idsWithDisabledMediaOverlayInfoImpressionLogging:n,onLogOverlayImpression:c("emptyFunction")},g)),j]}):j,e[2]=g,e[3]=a,e[4]=f,e[5]=j,e[6]=o):o=e[6];return o}g["default"]=a}),98);
__d("PolarisMediaSaveButton_ad.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaSaveButton_ad",selections:[{args:null,kind:"FragmentSpread",name:"PolarisSaveButton_ad"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};e.exports=a}),null);
__d("PolarisMediaSaveButton_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaSaveButton_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisSaveButton_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisSaveButton_ad.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisSaveButton_ad",selections:[{args:null,kind:"FragmentSpread",name:"usePolarisSaveMedia_ad"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};e.exports=a}),null);
__d("PolarisSaveButton_media.graphql",["polarisMediaSrcSetResolver"],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisSaveButton_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{alias:null,args:null,kind:"ScalarField",name:"saved_collection_ids",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_viewer_saved",storageKey:null},{alias:null,args:null,fragment:{args:null,kind:"FragmentSpread",name:"polarisMediaSrcSetResolver"},kind:"RelayResolver",name:"client__srcSet",resolverModule:b("polarisMediaSrcSetResolver").client__srcSet,path:"client__srcSet"},{args:null,kind:"FragmentSpread",name:"usePolarisSaveMedia_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisMediaSaveToCollectionMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8310900462258506"}),null);
__d("usePolarisMediaSaveToCollectionMutation.graphql",["usePolarisMediaSaveToCollectionMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"added_media_ids"},c={defaultValue:null,kind:"LocalArgument",name:"collection_id"},d={defaultValue:null,kind:"LocalArgument",name:"removed_media_ids"},e=[{alias:null,args:[{kind:"Literal",name:"_request_data",value:{}},{kind:"Variable",name:"added_media_ids",variableName:"added_media_ids"},{kind:"Variable",name:"collection_id",variableName:"collection_id"},{kind:"Variable",name:"removed_media_ids",variableName:"removed_media_ids"}],concreteType:"XDTMediaCollectionInfo",kind:"LinkedField",name:"xdt_api__v1__save__edit_collection",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"usePolarisMediaSaveToCollectionMutation",selections:e,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a,d],kind:"Operation",name:"usePolarisMediaSaveToCollectionMutation",selections:e},params:{id:b("usePolarisMediaSaveToCollectionMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisMediaSaveToCollectionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisMediaSaveToCollection",["CometRelay","react","usePolarisMediaSaveToCollectionMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c=i||d("react");c.useCallback;var j=c.unstable_useMemoCache,k=h!==void 0?h:h=b("usePolarisMediaSaveToCollectionMutation.graphql");function a(a){var b=j(3),c=d("CometRelay").useMutation(k),e=c[0];b[0]!==a||b[1]!==e?(c=function(b,c){var d=function(b){var d;b=b.get("XDTMediaDict:"+a);d=(d=b==null?void 0:b.getValue("saved_collection_ids"))!=null?d:[];b==null?void 0:b.setValue([].concat(d,[c]),"saved_collection_ids")},f=function(b){var d;b=b.get("XDTMediaDict:"+a);d=(d=b==null?void 0:b.getValue("saved_collection_ids"))!=null?d:[];d=d.filter(function(a){return a!==c});b==null?void 0:b.setValue(d,"saved_collection_ids")};b?e({optimisticUpdater:f,updater:f,variables:{collection_id:c,removed_media_ids:JSON.stringify([a])}}):e({optimisticUpdater:d,updater:d,variables:{added_media_ids:JSON.stringify([a]),collection_id:c}})},b[0]=a,b[1]=e,b[2]=c):c=b[2];return c}g["default"]=a}),98);
__d("usePolarisSaveMediaSaveMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6621004094595488"}),null);
__d("usePolarisSaveMediaSaveMutation.graphql",["usePolarisSaveMediaSaveMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"media_id"}],c=[{alias:null,args:[{kind:"Variable",name:"media_id",variableName:"media_id"}],concreteType:"XDTEmptyRecord",kind:"LinkedField",name:"xdt_api__v1__web__save__media_id__save",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisSaveMediaSaveMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisSaveMediaSaveMutation",selections:c},params:{id:b("usePolarisSaveMediaSaveMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisSaveMediaSaveMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisSaveMediaUnsaveMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6413366398681732"}),null);
__d("usePolarisSaveMediaUnsaveMutation.graphql",["usePolarisSaveMediaUnsaveMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"media_id"}],c=[{alias:null,args:[{kind:"Variable",name:"media_id",variableName:"media_id"}],concreteType:"XDTEmptyRecord",kind:"LinkedField",name:"xdt_api__v1__web__save__media_id__unsave",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisSaveMediaUnsaveMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisSaveMediaUnsaveMutation",selections:c},params:{id:b("usePolarisSaveMediaUnsaveMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisSaveMediaUnsaveMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisSaveMedia_ad.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisSaveMedia_ad",selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null}],type:"XDTAdInsertionItemClientDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisSaveMedia_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisSaveMedia_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"user.pk"},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null}],storageKey:null}],storageKey:null},action:"THROW",path:"user"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisSaveMedia",["CometRelay","PolarisAdsEngagementLogger","PolarisLogger","polarisGetXDTMediaDict","react","usePolarisSaveMediaSaveMutation.graphql","usePolarisSaveMediaUnsaveMutation.graphql","usePolarisSaveMedia_ad.graphql","usePolarisSaveMedia_media.graphql","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;e=l||d("react");e.useCallback;var m=e.unstable_useMemoCache,n=h!==void 0?h:h=b("usePolarisSaveMediaSaveMutation.graphql"),o=i!==void 0?i:i=b("usePolarisSaveMediaUnsaveMutation.graphql");function a(a){var e,f=m(5),g=a.adFragmentKey,h=a.analyticsContext;a=a.mediaFragmentKey;var i=d("CometRelay").useMutation(n),l=i[0];i=d("CometRelay").useMutation(o);var p=i[0];i=d("CometRelay").useFragment(j!==void 0?j:j=b("usePolarisSaveMedia_media.graphql"),a);a=d("CometRelay").useFragment(k!==void 0?k:k=b("usePolarisSaveMedia_ad.graphql"),g);g=c("usePolarisViewer")();e=((e=i.user.friendship_status)==null?void 0:e.following)===!0;var q;q=null;if(a!=null&&(a==null?void 0:a.ad_id)!=null&&(a==null?void 0:a.tracking_token)!=null&&i.id!=null&&(a==null?void 0:a.media_type)!=null&&(g==null?void 0:g.id)!=null){q={adId:a==null?void 0:a.ad_id,adTrackingToken:a==null?void 0:a.tracking_token,analyticsContext:h,followStatus:e?"following":"not_following",mediaPk:i.id,mediaType:a==null?void 0:a.media_type,ownerId:i==null?void 0:(e=i.user)==null?void 0:e.pk,viewerId:g==null?void 0:g.id}}a=q;f[0]!==h||f[1]!==l||f[2]!==a||f[3]!==p?(i=function(a,b,e){var f=function(b){b=c("polarisGetXDTMediaDict")(b,a);b==null?void 0:b.setValue(e,"has_viewer_saved")},g={source:h};f={optimisticUpdater:f,updater:f,variables:{media_id:b}};e?(d("PolarisLogger").logAction("saveAttempt",g),l(babelHelpers["extends"]({},f,{onCompleted:function(){d("PolarisLogger").logAction("saveSuccess",g),q!=null&&d("PolarisAdsEngagementLogger").logAdSave(q)},onError:function(){d("PolarisLogger").logAction("saveFailure",g)}}))):(d("PolarisLogger").logAction("unsaveAttempt",g),p(babelHelpers["extends"]({},f,{onCompleted:function(){d("PolarisLogger").logAction("unsaveSuccess",g),q!=null&&d("PolarisAdsEngagementLogger").logAdUnsave(q)},onError:function(){d("PolarisLogger").logAction("unsaveFailure",g)}})))},f[0]=h,f[1]=l,f[2]=a,f[3]=p,f[4]=i):i=f[4];q;return i}g["default"]=a}),98);
__d("PolarisSaveButton.next.react",["CometRelay","IGDSIconButton.react","IGDSSavePanoFilledIcon.react","IGDSSavePanoOutlineIcon.react","JSResourceForInteraction","PolarisIGCoreAnchoredPopover.react","PolarisIGCorePressable.react","PolarisPostIdContext.react","PolarisPostStrings","PolarisReactRedux.react","PolarisSaveButton_ad.graphql","PolarisSaveButton_media.graphql","PolarisSavedCollectionPicker.react","PolarisSavedPostsActionRequestNextSavedCollections","PolarisUA","polarisSavedPostsSelectors","react","useIGDSLazyDialog","usePolarisAnalyticsContext","usePolarisMediaSaveToCollection","usePolarisSaveMedia","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useContext,n=e.useState,o=24,p=-16,q=5;function a(a){var e=a.ad$key,f=a["data-testid"];f=a.media$key;var g=a.onShowToast;a=a.padding;a=a===void 0?8:a;var j=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisSaveButton_media.graphql"),f),r=d("PolarisReactRedux.react").useDispatch(),s=j.client__srcSet,t=j.has_viewer_saved,u=j.pk;f=j.saved_collection_ids;e=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisSaveButton_ad.graphql"),e);var v=c("usePolarisViewer")(),w=c("usePolarisAnalyticsContext")(),x=m(d("PolarisPostIdContext.react").PolarisPostIdContext),y=(x=x==null?void 0:x.mediaIdUFI)!=null?x:j.pk,z=c("usePolarisSaveMedia")({adFragmentKey:e,analyticsContext:w,mediaFragmentKey:j}),A=l(function(a){z(j.id,y,a)},[j.id,y,z]);e=c("usePolarisMediaSaveToCollection")((x=y)!=null?x:j.pk);var B=d("PolarisReactRedux.react").useSelector(function(a){return!v?null:d("polarisSavedPostsSelectors").getAllSavedCollectionsForUser(a,v.id)}),C=d("PolarisReactRedux.react").useSelector(function(a){return!v?null:d("polarisSavedPostsSelectors").getSavedCollectionsPaginationForUser(a,v.id)});function D(){if(B==null||C==null)return!1;if(B.length>=q)return!0;var a=1;return!C.moreAvailable&&B.length>a}x=!!v&&d("PolarisUA").isDesktop();var E=D()&&x;function F(a){a.preventDefault(),A(!t),!t===!0&&E&&(g!=null&&g(),J(!0))}function G(){v&&!D()&&(C==null?void 0:C.isFetching)!==!0&&r(d("PolarisSavedPostsActionRequestNextSavedCollections").requestInitialSavedCollections(v.id)),J(!1)}var H=n(!1),I=H[0],J=H[1];H=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("PolarisCreateCollectionWithPostModal.react").__setRef("PolarisSaveButton.next.react"));var K=H[0];return k.jsx(c("PolarisIGCoreAnchoredPopover.react"),{content:E?k.jsx(c("PolarisSavedCollectionPicker.react"),{collectionsPostSavedTo:(H=f)!=null?H:[],hidePopover:I,onSaveMedia:A,onSaveMediaToCollection:e,postId:u,postIsSaved:t===!0,setHidePopover:J,setShowCreateCollectionModal:function(){return K({onSaveChange:A,postId:u,source:w,srcSet:s})}}):null,offsetTop:p,preferredPositionX:"center",preferredPositionY:"top",showOnHover:!0,children:k.jsx(c("PolarisIGCorePressable.react"),{onMouseEnter:G,onPress:function(){},children:k.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,hover:t===!0||!x?null:k.jsx(c("IGDSSavePanoOutlineIcon.react"),{alt:d("PolarisPostStrings").SAVE_TEXT,color:"ig-secondary-text",size:o}),onClick:F,padding:a,children:t===!0?k.jsx(c("IGDSSavePanoFilledIcon.react"),{alt:d("PolarisPostStrings").UNSAVE_TEXT,color:"ig-primary-text",size:o}):k.jsx(c("IGDSSavePanoOutlineIcon.react"),{alt:d("PolarisPostStrings").SAVE_TEXT,color:"ig-primary-text",size:o})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisMediaSaveButton.react",["CometRelay","PolarisMediaSaveButton_ad.graphql","PolarisMediaSaveButton_media.graphql","PolarisSaveButton.next.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j;function a(a){var e=k(4),f=a.adFragmentKey,g=a.mediaFragmentKey;a=a.onShowToast;g=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisMediaSaveButton_media.graphql"),g);f=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisMediaSaveButton_ad.graphql"),f);var j;e[0]!==f||e[1]!==g||e[2]!==a?(j=l.jsx(c("PolarisSaveButton.next.react"),{ad$key:f,"data-testid":void 0,media$key:g,onShowToast:a,padding:0}),e[0]=f,e[1]=g,e[2]=a,e[3]=j):j=e[3];return j}g["default"]=a}),98);
__d("PolarisPostDetailsSectionProvider.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext,k=c.unstable_useMemoCache,l=i.createContext("postPage");function a(a){var b=k(3),c=a.children;a=a.value;var d;b[0]!==a||b[1]!==c?(d=i.jsx(l.Provider,{value:a,children:c}),b[0]=a,b[1]=c,b[2]=d):d=b[2];return d}function b(){return j(l)}g.PolarisPostDetailsSectionProvider=a;g.usePolarisPostDetailsSectionProvider=b}),98);
__d("PolarisShareMediaButton_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisShareMediaButton_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{alias:null,args:null,concreteType:"XDTSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisShareMenuDialogQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7229687087126424"}),null);
__d("PolarisShareMenuDialogQuery$Parameters",["PolarisShareMenuDialogQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisShareMenuDialogQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisShareMenuDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisShareMenuDialog.entrypoint",["JSResourceForInteraction","PolarisShareMenuDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{queryReference:{parameters:c("PolarisShareMenuDialogQuery$Parameters"),variables:{media_id:a.routeProps.mediaId}}}}},root:c("JSResourceForInteraction")("PolarisShareMenuDialog.react").__setRef("PolarisShareMenuDialog.entrypoint")};g["default"]=a}),98);
__d("getPolarisPostType.next.react",["PolarisMediaConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a===d("PolarisMediaConstants").MediaTypes.VIDEO)return"video";return a===d("PolarisMediaConstants").MediaTypes.CAROUSEL_V2?"sidecar":"photo"}g.getPolarisPostType=a}),98);
__d("PolarisShareMediaButton.react",["fbt","CometPlaceholder.react","CometPressable.react","CometRelay","IGDContactSearchDialogType.flow","IGDSBox.react","IGDSDialog.react","IGDSDirectPanoOutlineIcon.react","IGDSSpinner.react","PolarisConfig","PolarisLogger","PolarisPostModalContext.react","PolarisShareMediaButton_media.graphql","PolarisShareMenuDialog.entrypoint","PolarisUA","QPLUserFlow","deferredLoadComponent","getPolarisPostType.next.react","qex","qpl","react","requireDeferredForDisplay","useIGDSEntryPointDialog","useIGDSecureShareSheetInteractionLogger","usePolarisAnalyticsContext","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useMemo,n=e.useState,o=e.unstable_useMemoCache,p=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGWebBloksApp").__setRef("PolarisShareMediaButton.react")),q={primaryIconButton:{":hover_opacity":"x1mywscw",$$css:!0}};function r(a){var b=o(4);a=a.color;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__dCpyyTpkyrM__JHASH__"),b[0]=d):d=b[0];var e=a==="ig-stroke-on-media";b[1]!==a||b[2]!==e?(d=k.jsx(c("IGDSDirectPanoOutlineIcon.react"),{alt:d,color:a,shadow:e,size:24}),b[1]=a,b[2]=e,b[3]=d):d=b[3];return d}function a(a){var e=a.color;e=e===void 0?"ig-primary-icon":e;var f=a.media;a=a.xstyle;var g=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisShareMediaButton_media.graphql"),f),h=c("usePolarisAnalyticsContext")(),j=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetInteraction(),o=d("PolarisPostModalContext.react").useSetPostModal();f=n(!1);var s=f[0],t=f[1];f=g.sharing_friction_info;var u=f==null?void 0:f.bloks_app_url,v=u!=null&&(f==null?void 0:f.should_have_sharing_friction)===!0,w=l(function(a){j("igd_sharesheet_open",{flowInstanceId:a,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:h})},[h,j]),x=l(function(a){var b;d("PolarisUA").isDesktop()?c("qex")._("1324"):c("qex")._("1325");d("PolarisLogger").logAction("shareClick",{source:h,type:d("getPolarisPostType.next.react").getPolarisPostType((b=g.media_type)!=null?b:0)});c("QPLUserFlow").start(c("qpl")._(379205139,"1723"),{annotations:{string:{source:h}}});if(!v)if(!d("PolarisConfig").isLoggedIn())o("share");else{b=c("uuidv4")();w(b);a(b)}else t(!0)},[h,w,g,o,v]),y=m(function(){return{media_id:g.pk,module:h}},[h,g]);f=c("useIGDSEntryPointDialog")(c("PolarisShareMenuDialog.entrypoint"),{routeParams:{},routeProps:{mediaId:g.pk}},void 0,function(){return k.jsx(c("IGDSDialog.react"),{fixedWidth:!0,size:d("PolarisUA").isMobile()?"fullscreen":"large",children:k.jsx(c("IGDSBox.react"),{alignItems:"center",height:d("PolarisUA").isMobile()?"100vh":545,justifyContent:"center",width:"100%",children:k.jsx(c("IGDSSpinner.react"),{})})})});var z=f[0];f=(g==null?void 0:(f=g.user)==null?void 0:f.is_private)!==!0&&g.can_viewer_reshare===!0;if(f===!1)return null;f=[e==="ig-primary-icon"&&q.primaryIconButton,a];a=function(a){return!v?null:s&&u!=null&&k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(p,{appId:u,bridgeOverrides_DEPRECATED:{onOpenShareSheetClick:function(){t(!1);var b=c("uuidv4")();w(b);a(b)},onResumeStoryPlayback:function(){t(!1)}},params:y},g.pk)})};var A=function(a){return z({flowInstanceId:a})};return k.jsxs(k.Fragment,{children:[k.jsx(c("CometPressable.react"),{hideFocusOverlay:!0,hideHoverOverlay:!0,onPress:function(){return x(A)},overlayPressedStyle:null,xstyle:f,children:k.jsx(r,{color:e})}),a(A)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("polarisMediaRelayIDResolver.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"polarisMediaRelayIDResolver",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("polarisMediaRelayIDResolver",["igMapTypenameToRelayID","polarisMediaRelayIDResolver.graphql","relay-runtime/store/ResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("relay-runtime/store/ResolverFragments").readFragment(h!==void 0?h:h=b("polarisMediaRelayIDResolver.graphql"),a);return c("igMapTypenameToRelayID")("XDTMediaDict",a.id,null)}g.client__relayID=a}),98);
__d("usePolarisLikeMediaLikeMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5788782404552294"}),null);
__d("usePolarisLikeMediaLikeMutation.graphql",["usePolarisLikeMediaLikeMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"media_id"}],c=[{alias:null,args:[{kind:"Literal",name:"_request_data",value:{}},{kind:"Variable",name:"media_id",variableName:"media_id"}],concreteType:"XDTEmptyRecord",kind:"LinkedField",name:"xdt_api__v1__media__media_id__like",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisLikeMediaLikeMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisLikeMediaLikeMutation",selections:c},params:{id:b("usePolarisLikeMediaLikeMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisLikeMediaLikeMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisLikeMediaUnlikeMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9340949795922633"}),null);
__d("usePolarisLikeMediaUnlikeMutation.graphql",["usePolarisLikeMediaUnlikeMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"media_id"}],c=[{alias:null,args:[{kind:"Literal",name:"_request_data",value:{}},{kind:"Variable",name:"media_id",variableName:"media_id"}],concreteType:"XDTEmptyRecord",kind:"LinkedField",name:"xdt_api__v1__media__media_id__unlike",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisLikeMediaUnlikeMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisLikeMediaUnlikeMutation",selections:c},params:{id:b("usePolarisLikeMediaUnlikeMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisLikeMediaUnlikeMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisLikeMedia_ad.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisLikeMedia_ad",selections:[{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],type:"XDTAdInsertionItemClientDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisLikeMedia_media.graphql",["polarisMediaRelayIDResolver"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisLikeMedia_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{kind:"RequiredField",field:a,action:"THROW",path:"pk"},{kind:"RequiredField",field:{alias:null,args:null,fragment:{args:null,kind:"FragmentSpread",name:"polarisMediaRelayIDResolver"},kind:"RelayResolver",name:"client__relayID",resolverModule:b("polarisMediaRelayIDResolver").client__relayID,path:"client__relayID"},action:"THROW",path:"client__relayID"},{alias:null,args:null,kind:"ScalarField",name:"organic_tracking_token",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[a],storageKey:null}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("usePolarisLikeMedia",["CometRelay","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisGenericStrings","PolarisLogger","QPLUserFlow","qpl","react","usePolarisLikeMediaLikeMutation.graphql","usePolarisLikeMediaUnlikeMutation.graphql","usePolarisLikeMedia_ad.graphql","usePolarisLikeMedia_media.graphql","usePolarisShowToast","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(l||d("react")).useCallback,n=h!==void 0?h:h=b("usePolarisLikeMediaLikeMutation.graphql"),o=i!==void 0?i:i=b("usePolarisLikeMediaUnlikeMutation.graphql");function a(a){var e=a.adFragmentKey,f=a.analyticsContext,g=a.mediaFragmentKey,h=a.sourceOfLike;a=d("CometRelay").useMutation(n);var i=a[0];a=d("CometRelay").useMutation(o);var l=a[0],p=d("CometRelay").useFragment(j!==void 0?j:j=b("usePolarisLikeMedia_media.graphql"),g),q=d("CometRelay").useFragment(k!==void 0?k:k=b("usePolarisLikeMedia_ad.graphql"),e),r=c("usePolarisViewer")(),s=c("usePolarisShowToast")(),t=m(function(a,b){var e,g=p!=null?{mediaAuthorId:(e=p.owner)==null?void 0:e.pk,mediaId:p.pk,source:f,sourceOfLike:h,trackingToken:p.organic_tracking_token}:null,j=q!=null&&(q==null?void 0:q.ad_id)!=null&&(q==null?void 0:q.tracking_token)!=null&&(r==null?void 0:r.id)!=null?{adId:q.ad_id,adTrackingToken:q.tracking_token,viewerId:r==null?void 0:r.id}:null;if(b){c("QPLUserFlow").start(c("qpl")._(379204822,"720"),{annotations:{string:{source:f}}});e=function(a){var b;a=a.get(p.client__relayID);b=Number((b=a==null?void 0:a.getValue("like_count"))!=null?b:0);a==null?void 0:a.setValue(!0,"has_liked");a==null?void 0:a.setValue(b+1,"like_count")};d("PolarisLogger").logAction("likeAttempt",g);var k=function(){g&&j?d("PolarisAdsEngagementLogger").logAdLike(g,j):g&&d("PolarisEngagementLogger").logOrganicLike(g),c("QPLUserFlow").endSuccess(c("qpl")._(379204822,"720"))},m=function(){d("PolarisLogger").logAction("likeFailure",g),c("QPLUserFlow").endFailure(c("qpl")._(379204822,"720"),"request_failed"),s({actionHandler:function(){return t(a,b)},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE})};i({onCompleted:k,onError:m,optimisticUpdater:e,updater:e,variables:{media_id:a}})}else{c("QPLUserFlow").start(c("qpl")._(379198902,"749"),{annotations:{string:{source:f}}});k=function(a){var b;a=a.get(p.client__relayID);b=Number((b=a==null?void 0:a.getValue("like_count"))!=null?b:0);a==null?void 0:a.setValue(!1,"has_liked");a==null?void 0:a.setValue(b-1,"like_count")};d("PolarisLogger").logAction("unlikeAttempt",g);m=function(){g&&j?d("PolarisAdsEngagementLogger").logAdUnlike(g,j):g&&d("PolarisEngagementLogger").logOrganicUnlike(g),c("QPLUserFlow").endSuccess(c("qpl")._(379198902,"749"))};e=function(){d("PolarisLogger").logAction("unlikeFailure",g),c("QPLUserFlow").endFailure(c("qpl")._(379198902,"749"),"request_failed"),s({actionHandler:function(){return t(a,b)},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE})};l({onCompleted:m,onError:e,optimisticUpdater:k,updater:k,variables:{media_id:a}})}},[q,f,i,l,p,s,h,r==null?void 0:r.id]);return t}g["default"]=a}),98);
__d("usePolarisToggleFollowUserFollowMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7564251353633356"}),null);
__d("usePolarisToggleFollowUserFollowMutation.graphql",["usePolarisToggleFollowUserFollowMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"target_user_id"}],c=[{alias:null,args:[{kind:"Literal",name:"_request_data",value:{}},{kind:"Variable",name:"target_user_id",variableName:"target_user_id"}],concreteType:"XDTFriendshipStatusResponse",kind:"LinkedField",name:"xdt_api__v1__friendships__create__target_user_id",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisToggleFollowUserFollowMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisToggleFollowUserFollowMutation",selections:c},params:{id:b("usePolarisToggleFollowUserFollowMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisToggleFollowUserFollowMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisToggleFollowUserUnfollowMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="25843558171924510"}),null);
__d("usePolarisToggleFollowUserUnfollowMutation.graphql",["usePolarisToggleFollowUserUnfollowMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"target_user_id"}],c=[{alias:null,args:[{kind:"Literal",name:"_request_data",value:{}},{kind:"Variable",name:"target_user_id",variableName:"target_user_id"}],concreteType:"XDTFriendshipStatusResponse",kind:"LinkedField",name:"xdt_api__v1__friendships__destroy__target_user_id",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisToggleFollowUserUnfollowMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisToggleFollowUserUnfollowMutation",selections:c},params:{id:b("usePolarisToggleFollowUserUnfollowMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisToggleFollowUserUnfollowMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisToggleFollowUser_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisToggleFollowUser_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null}],storageKey:null}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisToggleFollowUser",["CometRelay","FBLogger","QPLUserFlow","RelayFBConnectionHandler_UNSTABLE","polarisGetXDTUserDict","qpl","react","usePolarisToggleFollowUserFollowMutation.graphql","usePolarisToggleFollowUserUnfollowMutation.graphql","usePolarisToggleFollowUser_user.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=k||d("react");e.useCallback;var l=e.unstable_useMemoCache,m=h!==void 0?h:h=b("usePolarisToggleFollowUserFollowMutation.graphql"),n=i!==void 0?i:i=b("usePolarisToggleFollowUserUnfollowMutation.graphql");function a(a){var e=l(8),f=d("CometRelay").useMutation(m),g=f[0];f=d("CometRelay").useMutation(n);var h=f[0],i=d("CometRelay").useFragment(j!==void 0?j:j=b("usePolarisToggleFollowUser_user.graphql"),a),k=((f=i.friendship_status)==null?void 0:f.following)!==!0;e[0]!==k||e[1]!==i.pk||e[2]!==g||e[3]!==h?(a=function(){var a=k?c("qpl")._(379204720,"1722"):c("qpl")._(379193744,"299"),b=function(a){var b=d("RelayFBConnectionHandler_UNSTABLE").unstable_getAllConnectionsWithKey(a,a.getRoot(),"PolarisFeedPage__xdt_api__v1__feed__timeline__connection");b==null?void 0:b.forEach(function(a){var b;b=(b=a==null?void 0:a.getValue("unfollowed_users"))!=null?b:[];Array.isArray(b)&&(k?a.setValue(b.filter(function(a){return a!==i.pk}),"unfollowed_users"):a.setValue([].concat(b,[i.pk]),"unfollowed_users"))});b=c("polarisGetXDTUserDict")(a,i.pk);if(b==null){c("FBLogger")("ig_web").warn("Cannot find user to update friendship status");return}a=b.getOrCreateLinkedRecord("friendship_status","XDTRelationshipInfoDict");a.setValue(k,"following");k||b.setValue(!1,"outgoing_request")};b={onCompleted:function(){c("QPLUserFlow").endSuccess(a)},onError:function(){c("QPLUserFlow").endFailure(a,"request_failed")},optimisticUpdater:b,updater:b,variables:{target_user_id:i.pk}};if(k)return g(b);else return h(b)},e[0]=k,e[1]=i.pk,e[2]=g,e[3]=h,e[4]=a):a=e[4];f=a;a=((a=i.friendship_status)==null?void 0:a.following)===!0;var o;e[5]!==f||e[6]!==a?(o=[f,a],e[5]=f,e[6]=a,e[7]=o):o=e[7];return o}g["default"]=a}),98);